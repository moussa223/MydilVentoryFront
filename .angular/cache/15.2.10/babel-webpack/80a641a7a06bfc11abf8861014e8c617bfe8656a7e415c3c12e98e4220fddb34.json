{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../views/admin/settings/setting.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction CardTableComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5);\n    i0.ɵɵelement(2, \"img\", 6);\n    i0.ɵɵelementStart(3, \"div\", 7)(4, \"p\", 8)(5, \"b\");\n    i0.ɵɵtext(6, \"Nom: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 8)(9, \"b\");\n    i0.ɵɵtext(10, \"Type: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"b\");\n    i0.ɵɵtext(13, \"Emplacement: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"em\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(16, \"br\");\n    i0.ɵɵelementStart(17, \"b\");\n    i0.ɵɵtext(18, \"Empruntable: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"em\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(21, \"br\");\n    i0.ɵɵelementStart(22, \"b\");\n    i0.ɵɵtext(23, \"R\\u00E9f\\u00E9renc\\u00E9: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"em\");\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(26, \"br\");\n    i0.ɵɵelementStart(27, \"p\", 8)(28, \"b\");\n    i0.ɵɵtext(29, \"Description: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"p\", 8)(32, \"b\");\n    i0.ɵɵtext(33, \"D\\u00E9signation: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"p\", 8)(36, \"b\");\n    i0.ɵɵtext(37, \"Commentaires: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(38);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"p\", 8)(40, \"b\");\n    i0.ɵɵtext(41, \"Quantit\\u00E9 disponible: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(42);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"p\", 8)(44, \"b\");\n    i0.ɵɵtext(45, \"Date d'achat: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(47, \"br\");\n    i0.ɵɵelementStart(48, \"a\", 9);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(49, \"svg\", 10);\n    i0.ɵɵelement(50, \"path\", 11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(51, \"a\", 12);\n    i0.ɵɵlistener(\"click\", function CardTableComponent_div_1_Template_a_click_51_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.openUpdateProductPopup());\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(52, \"svg\", 13);\n    i0.ɵɵelement(53, \"path\", 14)(54, \"path\", 15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(55, \"a\", 16);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(56, \"svg\", 17);\n    i0.ɵɵelement(57, \"path\", 18);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const product_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", product_r3.photoUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(product_r3.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(product_r3.type);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(product_r3.emplacement);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(product_r3.iEmpruntable);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(product_r3.isReferenced);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(product_r3.description);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(product_r3.designation);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(product_r3.commentaires);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(product_r3.quantiteDispo);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(product_r3.dateAchat);\n  }\n}\nfunction CardTableComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵlistener(\"close\", function CardTableComponent_div_2_Template_div_close_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.closeUpdateProductPopup());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CardTableComponent_div_3_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function CardTableComponent_div_3_button_10_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.closeUpdateProductPopup());\n    });\n    i0.ɵɵtext(1, \"Annuler\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CardTableComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵlistener(\"close\", function CardTableComponent_div_3_Template_div_close_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.closeUpdateProductPopup());\n    });\n    i0.ɵɵelementStart(1, \"div\", 0)(2, \"h2\");\n    i0.ɵɵtext(3, \"Modifier la classe\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"form\")(5, \"div\", 0)(6, \"p\");\n    i0.ɵɵtext(7, \"Test !\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function CardTableComponent_div_3_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.UpdateProduct());\n    });\n    i0.ɵɵtext(9, \"Modifier\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, CardTableComponent_div_3_button_10_Template, 2, 0, \"button\", 22);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isUpdateProductPopUpOpen);\n  }\n}\nexport let CardTableComponent = /*#__PURE__*/(() => {\n  class CardTableComponent {\n    get color() {\n      return this._color;\n    }\n    set color(color) {\n      this._color = color !== 'light' && color !== 'dark' ? 'light' : color;\n    }\n    constructor(settingService, router) {\n      this.settingService = settingService;\n      this.router = router;\n      this._color = 'light';\n      this.isUpdateProductPopUpOpen = false; //  Le pop up est fermé par defaut donc false\n      this.selectedProduct = null; // La classe selectionné parmi la liste des classes\n      this.UpdateProductDto = {\n        id: 0,\n        name: '',\n        type: '',\n        description: '',\n        quantiteDispo: '',\n        designation: '',\n        commentaires: '',\n        emplacement: '',\n        dateAchat: '',\n        iEmpruntable: '',\n        isReferenced: '',\n        photoUrl: ''\n      };\n    }\n    ngOnInit() {\n      this.getAllProducts();\n    }\n    // ----------------- get All Products-------------\n    getAllProducts() {\n      this.settingService.getAllProducts().subscribe(Products => {\n        // Vous pouvez utiliser les données des étudiants ici\n        console.log(Products);\n        this.ProductData = Products;\n        console.log(this.ProductData[0].name);\n        this.test = this.ProductData[0].levels + ' ' + this.ProductData[0].name;\n      }, error => {\n        // Gérez les erreurs ici\n        console.error(error);\n      });\n    }\n    // ----------------- Update Product Method -----------------------------------\n    UpdateProduct() {\n      // tslint:disable-next-line:max-line-length\n      this.UpdateProductDto.id = this.selectedProduct.id; // L'id de la classe que je modifie ne change pas et dans l'objet Json aussi l'id est envoyé aussi\n      this.settingService.UpdateProduct(this.selectedProduct.id, this.UpdateProductDto).subscribe(response => {\n        // Gérez la réponse de l'API ici\n        console.log(response);\n        // fermeture du popup Après le traitement\n        // Rechargez la page après une réponse réussie\n        window.location.reload();\n      }, error => {\n        // Gérez les erreurs ici\n        // console.error(error.error.message);\n        console.error(error);\n      });\n    }\n    // -------------Up date classRoom Pop Up -----------------------------------------------\n    openUpdateProductPopup() {\n      this.isUpdateProductPopUpOpen = true;\n    }\n    closeUpdateProductPopup() {\n      this.isUpdateProductPopUpOpen = false;\n    }\n    static #_ = this.ɵfac = function CardTableComponent_Factory(t) {\n      return new (t || CardTableComponent)(i0.ɵɵdirectiveInject(i1.SettingService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CardTableComponent,\n      selectors: [[\"app-card-table\"]],\n      inputs: {\n        color: \"color\"\n      },\n      decls: 4,\n      vars: 3,\n      consts: [[1, \"row\"], [\"class\", \"col-sm-4 mb-3\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"background-overlay\", 3, \"close\", 4, \"ngIf\"], [\"class\", \"popup-container\", 3, \"close\", 4, \"ngIf\"], [1, \"col-sm-4\", \"mb-3\"], [1, \"card\", 2, \"width\", \"18rem\"], [\"alt\", \"Card image cap\", 1, \"card-img-top\", 2, \"height\", \"300px\", \"object-fit\", \"cover\", 3, \"src\"], [1, \"card-body\"], [1, \"card-text\"], [\"href\", \"#\", 1, \"btn\", \"btn-success\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-cart-check-fill\"], [\"d\", \"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0m7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-1.646-7.646-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L8 8.293l2.646-2.647a.5.5 0 0 1 .708.708z\"], [\"href\", \"#\", 1, \"btn\", \"btn-warning\", \"ml-3\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-pencil-square\"], [\"d\", \"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\"], [\"fill-rule\", \"evenodd\", \"d\", \"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z\"], [\"href\", \"#\", 1, \"btn\", \"btn-danger\", \"ml-3\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-trash3-fill\"], [\"d\", \"M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5m-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5M4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06Zm6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528ZM8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5\"], [1, \"background-overlay\", 3, \"close\"], [1, \"popup-container\", 3, \"close\"], [\"type\", \"submit\", 1, \"btn\", \"btn-sm\", \"btn-warning\", \"mr-2\", \"mt-1\", 3, \"click\"], [\"type\", \"button\", \"class\", \"btn btn-sm btn-danger mt-1\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-danger\", \"mt-1\", 3, \"click\"]],\n      template: function CardTableComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtemplate(1, CardTableComponent_div_1_Template, 58, 11, \"div\", 1);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(2, CardTableComponent_div_2_Template, 1, 0, \"div\", 2);\n          i0.ɵɵtemplate(3, CardTableComponent_div_3_Template, 11, 1, \"div\", 3);\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngForOf\", ctx.ProductData);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isUpdateProductPopUpOpen);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isUpdateProductPopUpOpen);\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm],\n      encapsulation: 2\n    });\n  }\n  return CardTableComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}